# Strang Backend Configuration
# Copy this file to .env and fill in your values

# ============================================
# API Keys (REQUIRED)
# ============================================
# Groq API key for script generation (FREE and FAST!)
# Get yours at: https://console.groq.com/keys
GROQ_API_KEY=your_groq_api_key_here

# HeyGen API key for avatar video generation
# Get yours at: https://app.heygen.com/settings/api
HEYGEN_API_KEY=your_heygen_api_key_here

# ============================================
# Server Configuration
# ============================================
HOST=0.0.0.0
PORT=8000
DEBUG=false

# ============================================
# Groq API Settings (FREE!)
# ============================================
# Model to use - Available FREE models:
# - llama-3.3-70b-versatile (recommended - best quality)
# - llama-3.1-70b-versatile (very good)
# - mixtral-8x7b-32768 (fast and efficient)
# - gemma2-9b-it (lightweight)
GROQ_MODEL=llama-3.3-70b-versatile

# Max tokens for script generation (increased for creative scripts with visual descriptions)
GROQ_MAX_TOKENS=2048

# Temperature for generation (0.0-1.0, higher = more creative)
# Recommended: 0.8-0.9 for creative content, 0.7 for more conservative
GROQ_TEMPERATURE=0.85

# ============================================
# HeyGen Settings
# ============================================
# Default avatar ID (leave empty to auto-select first available)
# To find your avatars, run: python get_heygen_avatars.py
# Or visit: http://localhost:8000/api/avatars
HEYGEN_AVATAR_ID=

# Default voice ID (find yours in HeyGen dashboard or use get_heygen_avatars.py)
HEYGEN_VOICE_ID=1bd001e7e50f421d891986aad5158bc8

# Polling interval for video status (seconds)
HEYGEN_POLL_INTERVAL=5

# Max wait time for video generation (seconds) - set high to avoid timeout
HEYGEN_MAX_WAIT_TIME=3600

# Enable multi-scene videos (splits long scripts into multiple scenes)
# WARNING: This uses more credits but creates more dynamic videos
# Set to false to use single scene (saves credits)
HEYGEN_USE_MULTIPLE_SCENES=false

# Maximum video duration in seconds (free plan limit is 180s)
# Ultra-low cost: 90s saves maximum credits
# Balanced: 120s is a good balance of quality and cost
HEYGEN_MAX_VIDEO_DURATION=90

# Automatically truncate scripts that exceed max duration (recommended: true)
# When true, long scripts are automatically cut to fit the limit at sentence boundaries
# When false, scripts exceeding the limit will fail with an error
HEYGEN_AUTO_TRUNCATE=true

# Cost-saving mode: reduces resolution and video length to minimize credit usage
# When enabled: uses 480p resolution and shorter videos (saves ~40-50% credits)
# When disabled: uses higher resolution and longer videos (better quality, more expensive)
HEYGEN_COST_SAVING_MODE=true

# Dynamic B-roll: move avatar to corner on visual-heavy scenes
HEYGEN_DYNAMIC_BROLL=true

# Ultra-low cost mode: maximum credit savings (recommended if you have limited credits)
# When enabled: 90s max duration, 480p resolution, aggressive truncation
# Saves ~70-80% credits compared to default settings
HEYGEN_ULTRA_LOW_COST=true

# ============================================
# Video Settings (Ultra-Low Cost Optimized)
# ============================================
# Reduced text length to generate very short, cheap videos
# Ultra-low cost: 1500 chars = ~60-90s videos
MAX_TEXT_LENGTH=1500

# Lower resolution saves credits significantly
# 480p (854x480) uses ~40% fewer credits than 720p (1280x720)
# 720p (1280x720) works with free/basic plans but costs more
# 1080p (1920x1080) requires paid plan
DEFAULT_VIDEO_WIDTH=854  # 480p - cost-saving resolution
DEFAULT_VIDEO_HEIGHT=480

# ============================================
# Storage Configuration
# ============================================
OUTPUT_DIR=./outputs
TEMP_DIR=./temp
MAX_VIDEO_AGE_HOURS=24

# ============================================
# WebSocket Configuration
# ============================================
WEBSOCKET_ENABLED=true
WEBSOCKET_PING_INTERVAL=20
WEBSOCKET_PING_TIMEOUT=20

# ============================================
# Redis Configuration (optional, for job queue)
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
